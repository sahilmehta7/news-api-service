{
  "title": "Embeddings & Search Pipeline",
  "panels": [
    { "type": "stat", "title": "Embedding Requests (success)", "target": "sum(rate(news_embedding_requests_total{status=\"success\"}[5m]))" },
    { "type": "stat", "title": "Embedding Requests (error)", "target": "sum(rate(news_embedding_requests_total{status=\"error\"}[5m]))" },
    { "type": "gauge", "title": "Circuit Breaker State", "target": "max(news_embedding_circuit_breaker_state)" },
    { "type": "graph", "title": "Embedding Duration p95", "target": "histogram_quantile(0.95, sum(rate(news_embedding_duration_seconds_bucket[5m])) by (le))" },
    { "type": "graph", "title": "k-NN Query Duration p95", "target": "histogram_quantile(0.95, sum(rate(news_search_knn_query_duration_seconds_bucket[5m])) by (le))" },
    { "type": "stat", "title": "Indexed Docs (success)", "target": "sum(rate(news_search_index_docs_total{status=\"success\"}[5m]))" },
    { "type": "stat", "title": "Indexed Docs (failure)", "target": "sum(rate(news_search_index_docs_total{status=\"failure\"}[5m]))" },
    { "type": "graph", "title": "Enrichment Duration p95", "target": "histogram_quantile(0.95, sum(rate(news_worker_enrichment_duration_seconds_bucket[5m])) by (le))" }
  ],
  "schemaVersion": 38,
  "version": 1
}


